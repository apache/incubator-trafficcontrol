<!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<h1>{{deliveryService && deliveryService.displayName ? deliveryService.displayName : 'New Delivery Service'}}</h1>
<hr/>
<form ngNativeValidate (ngSubmit)="setOriginURL()" *ngIf="step === 0">
	<h2>Step 1 - Origin Server</h2>
	<div class="form-content">
		<label for="origin">I want to create a Delivery Service for:</label>
		<input [formControl]="originURL" type="url" id="origin" name="origin" placeholder="this URL" autofocus title="Must be a URL (should start with `http://` or `https://`)" pattern="(https?|HTTPS?)://[a-zA-Z][a-zA-z0-9\-]*(\.[a-zA-Z][a-zA-z0-9\-]*)*(/[\w\.]+)*/?" required/>
	</div>
	<button type="reset">Clear</button>
	<button>Next</button>
</form>

<form ngNativeValidate (ngSubmit)="setMetaInformation()" *ngIf="step === 1">
	<h2>Step 2 - Meta Information</h2>
	<div class="form-content">
		<label for="displayName">This Delivery Service's name will be:</label>
		<input type="text" autofocus title="This will be the name of the Delivery Service as it appears on the 'Home' screen" name="displayName" id="displayName" [formControl]="displayName" placeholder="{{deliveryService.displayName}}" required>
		<label for="longDesc">Please briefly describe this Delivery Service's purpose and function here:</label>
		<textarea id="longDesc" name="longDesc" title="No character limit - be as verbose as you like." required placeholder="e.g. This Delivery Service is for my website's image assets." [formControl]="description" rows="3"></textarea>
		<input type="checkbox" name="info-URL-sub-form" id="info-URL-sub-form"/>
		<label for="info-URL-sub-form" id="info-URL-sub-form-label">Add Informational URL</label>
		<label for="infoURL" id="info-URL-label">For more information, people can look at this URL:</label>
		<input type="url" name="infoURL" id="infoURL" placeholder="e.g. https://company.jira.com/ticket/9001"/>
	</div>
	<button type="reset" (click)="previous()">Previous</button>
	<button>Next</button>
</form>

<form ngNativeValidate (ngSubmit)="setInfrastructureInformation()" *ngIf="step === 2">
	<h2>Step 3 - Infrastructure</h2>
	<div class="form-content">
		<label for="cdnObject">This Delivery Service will be a part of this CDN:</label>
		<select [formControl]="cdnObject" name="cdnObject" id="cdnObject" required>
			<option *ngFor="let cdn of cdns" [selected]="cdn.id === deliveryService.cdnId" [ngValue]="cdn">{{cdn.name}}</option>
		</select>
	</div>
	<button type="reset" (click)="previous()">Previous</button>
	<button>Submit</button>
</form>
